(this.webpackJsonpcontraction=this.webpackJsonpcontraction||[]).push([[0],[,,function(t,e,n){t.exports=n.p+"static/media/stopwatch.cc241151.svg"},,,,,function(t,e,n){t.exports=n(14)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),i=(n(12),n(1)),l=(n(13),n(5)),s=n(6);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(t,e){localStorage.setItem(t,JSON.stringify(e))};function m(t,e){var n=localStorage.getItem(t);if(null!==n)switch(t){case"contractions":return JSON.parse(n,(function(t,e){return"start"===t||"end"===t?new Date(e):e}));default:return JSON.parse(n)}else f(t,e);return e}var v=function(){f("contractions",[]),f("midContraction",!1)},p={contractions:m("contractions",[]),midContraction:m("midContraction",!1)},E=r.a.createContext({});function O(t,e){var n;switch(e.type){case"CONTRACTION_START":var a=t.contractions.length+1,r={start:e.payload,id:a};return n=[].concat(Object(s.a)(t.contractions),[r]).sort((function(t,e){return e.id-t.id})),f("contractions",n),d({},t,{contractions:n});case"CONTRACTION_END":return n=t.contractions.map((function(t){return void 0===t.end?d({},t,{end:e.payload}):t})).sort((function(t,e){return e.id-t.id})),f("contractions",n),d({},t,{contractions:n});case"TOGGLE_CONTRACTION":return f("midContraction",!t.midContraction),d({},t,{midContraction:!t.midContraction});case"RESET_CONTRACTIONS":return v(),d({},t,{contractions:[]});case"RESET_MIDCONTRACTION":return d({},t,{midContraction:!1});default:return t}}var g=n(2),h=n.n(g),w=function(t){var e=t.contraction,n=Object(a.useState)(0),c=Object(i.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){var t;return void 0===e.end?(l(y(new Date,e.start)),t=setInterval((function(){l(y(new Date,e.start))}),1e3)):l(y(e.end,e.start)),function(){clearInterval(t)}}),[e]),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(R,{date:e.start})),void 0!==e.end?r.a.createElement("td",null,r.a.createElement(R,{date:e.end})):r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("span",{className:"timer"},void 0===e.end?r.a.createElement("img",{alt:"",className:"stopwatch-icon",src:h.a}):null,T(o))))},C=function(t){var e=t.contractions,n=t.recentDiff,a=e[0],c=r.a.createElement("div",{className:"recent-diff"},r.a.createElement("label",null,"Time between last 2 contractions")," ",T(n));if(3===e.length){var o=y(void 0===a.end?a.start:a.end,e[2].start);return r.a.createElement(r.a.Fragment,null,c,r.a.createElement("div",{className:o<6e5?"all-diff alert":"all-diff"},r.a.createElement("label",null,"Time for last 3 contractions")," ",T(o)))}return c},N=function(t){var e=t.latestContraction,n=t.recentDiff,c=Object(a.useState)(0),o=Object(i.a)(c,2),l=o[0],s=o[1];return Object(a.useEffect)((function(){var t;return void 0!==e.end?(s(y(new Date,e.end)),t=setInterval((function(){s(y(new Date,e.end))}),1e3)):s(0),function(){return clearInterval(t)}}),[l,e]),void 0===e.end?null:r.a.createElement("div",{className:l.valueOf()>n?"timer alert":"timer"},r.a.createElement("label",null,"Time since last Contraction"),r.a.createElement("span",{className:"timer"},r.a.createElement("img",{alt:"",className:"stopwatch-icon",src:h.a}),T(l)))};function b(t){return t<10?"0".concat(t.toFixed(0)):t.toFixed(0)}function T(t){var e=new Date(t),n=e.getHours(),a=e.getMinutes(),r=e.getSeconds(),c=n>0?"".concat(b(n),":"):"";return"".concat(c).concat(b(a),":").concat(b(r))}function y(t,e){return t.valueOf()-e.valueOf()}var R=function(t){var e=t.date,n=e.getHours(),a=n>12?n-12:n;return r.a.createElement(r.a.Fragment,null,b(a),":",b(e.getMinutes())," ",r.a.createElement("span",{className:"date-meridiem"},n>12?"PM":"AM"))},S=function(){var t=r.a.useContext(E),e=t.state,n=t.dispatch,a=e.contractions.length>1?y(e.contractions[0].start,e.contractions[1].end):0;return r.a.createElement("div",{className:"App"},r.a.createElement("main",null,e.midContraction?r.a.createElement("button",{className:"contraction end",onClick:function(){n({type:"CONTRACTION_END",payload:new Date}),n({type:"TOGGLE_CONTRACTION"})}},"end"):r.a.createElement("button",{className:"contraction",onClick:function(){n({type:"CONTRACTION_START",payload:new Date}),n({type:"TOGGLE_CONTRACTION"})}},"start"),r.a.createElement("div",{className:"summary"},e.contractions.length>0?r.a.createElement(N,{latestContraction:e.contractions[0],recentDiff:a}):null,e.contractions.length>1?r.a.createElement(C,{contractions:e.contractions.slice(0,3),recentDiff:a}):null),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Start"),r.a.createElement("th",null,"End"),r.a.createElement("th",null,"Duration"))),r.a.createElement("tbody",null,e.contractions.map((function(t){return r.a.createElement(w,{key:t.id,contraction:t})})))),e.contractions.length>0?r.a.createElement("button",{className:"reset",onClick:function(){window.confirm("Are you sure you want to reset?")&&(n({type:"RESET_CONTRACTIONS"}),n({type:"RESET_MIDCONTRACTION"}))}},"Reset"):null))},A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}o.a.render(r.a.createElement((function(t){var e=t.children,n=r.a.useReducer(O,p),a=Object(i.a)(n,2),c={state:a[0],dispatch:a[1]};return r.a.createElement(E.Provider,{value:c},e)}),null,r.a.createElement(S,null)),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/contraction",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/contraction","/service-worker.js");A?(!function(t,e){fetch(t).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):D(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):D(e,t)}))}}()}],[[7,1,2]]]);
//# sourceMappingURL=main.c3c618e1.chunk.js.map