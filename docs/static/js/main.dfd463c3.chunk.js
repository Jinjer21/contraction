(this.webpackJsonpcontraction=this.webpackJsonpcontraction||[]).push([[0],[,,,,,,function(t,e,n){t.exports=n(13)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(3),c=n.n(o),i=(n(11),n(1)),l=(n(12),n(4)),s=n(5);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(t,e){localStorage.setItem(t,JSON.stringify(e))};function m(t,e){var n=localStorage.getItem(t);if(null!==n)switch(t){case"contractions":return JSON.parse(n,(function(t,e){return"start"===t||"end"===t?new Date(e):e}));default:return JSON.parse(n)}else f(t,e);return e}var v=function(){f("contractions",[]),f("midContraction",!1)},O={contractions:m("contractions",[]),midContraction:m("midContraction",!1)},p=r.a.createContext({});function E(t,e){var n;switch(e.type){case"CONTRACTION_START":var a=t.contractions.length+1,r={start:e.payload,id:a};return n=[].concat(Object(s.a)(t.contractions),[r]).sort((function(t,e){return e.id-t.id})),f("contractions",n),d({},t,{contractions:n});case"CONTRACTION_END":return n=t.contractions.map((function(t){return void 0===t.end?d({},t,{end:e.payload}):t})).sort((function(t,e){return e.id-t.id})),f("contractions",n),d({},t,{contractions:n});case"TOGGLE_CONTRACTION":return f("midContraction",!t.midContraction),d({},t,{midContraction:!t.midContraction});case"RESET_CONTRACTIONS":return v(),d({},t,{contractions:[]});case"RESET_MIDCONTRACTION":return d({},t,{midContraction:!1});default:return t}}var h=function(t){var e=t.contraction,n=Object(a.useState)(0),o=Object(i.a)(n,2),c=o[0],l=o[1];return Object(a.useEffect)((function(){var t;return void 0===e.end?(l(b(new Date,e.start)),t=setInterval((function(){l(b(new Date,e.start))}),1e3)):l(b(e.end,e.start)),function(){clearInterval(t)}}),[e]),r.a.createElement("tr",null,r.a.createElement("td",null,e.start.toLocaleTimeString()),void 0!==e.end?r.a.createElement("td",null,e.end.toLocaleTimeString()):r.a.createElement("td",null),r.a.createElement("td",null,g(c)))},w=function(t){var e=t.contractions,n=e[0],a=b(n.start,e[1].end),o=r.a.createElement("div",{className:"recent-diff"},r.a.createElement("label",null,"Time between last 2 contractions")," ",g(a));if(3===e.length){var c=b(void 0===n.end?n.start:n.end,e[2].start);return r.a.createElement(r.a.Fragment,null,o,r.a.createElement("div",{className:c<600?"all-diff alert":"all-diff"},r.a.createElement("label",null,"Time for last 3 contractions")," ",g(c)))}return o},C=function(t){var e=t.latestContraction,n=Object(a.useState)(0),o=Object(i.a)(n,2),c=o[0],l=o[1];return Object(a.useEffect)((function(){var t;return void 0!==e.end?(l(b(new Date,e.end)),t=setInterval((function(){l(b(new Date,e.end))}),1e3)):l(0),function(){return clearInterval(t)}}),[c,e]),void 0===e.end?null:r.a.createElement("div",{className:"timer"},r.a.createElement("label",null,"Time since last Contraction"),g(c))};function g(t){var e=Math.floor(t/60),n=t%60;return"".concat(e," Minutes, ").concat(n.toFixed(0)," Seconds")}function b(t,e){return(t.valueOf()-e.valueOf())/1e3}var T=function(){var t=r.a.useContext(p),e=t.state,n=t.dispatch;return r.a.createElement("div",{className:"App"},r.a.createElement("main",null,e.midContraction?r.a.createElement("button",{className:"contraction end",onClick:function(){n({type:"CONTRACTION_END",payload:new Date}),n({type:"TOGGLE_CONTRACTION"})}},"end"):r.a.createElement("button",{className:"contraction",onClick:function(){n({type:"CONTRACTION_START",payload:new Date}),n({type:"TOGGLE_CONTRACTION"})}},"start"),r.a.createElement("div",{className:"summary"},e.contractions.length>0?r.a.createElement(C,{latestContraction:e.contractions[0]}):null,e.contractions.length>1?r.a.createElement(w,{contractions:e.contractions.slice(0,3)}):null),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Start"),r.a.createElement("th",null,"End"),r.a.createElement("th",null,"Duration"))),r.a.createElement("tbody",null,e.contractions.map((function(t){return r.a.createElement(h,{key:t.id,contraction:t})})))),e.contractions.length>0?r.a.createElement("button",{className:"reset",onClick:function(){window.confirm("Are you sure you want to reset?")&&(n({type:"RESET_CONTRACTIONS"}),n({type:"RESET_MIDCONTRACTION"}))}},"Reset"):null))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}c.a.render(r.a.createElement((function(t){var e=t.children,n=r.a.useReducer(E,O),a=Object(i.a)(n,2),o={state:a[0],dispatch:a[1]};return r.a.createElement(p.Provider,{value:o},e)}),null,r.a.createElement(T,null)),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/contraction",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/contraction","/service-worker.js");N?(!function(t,e){fetch(t).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):y(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):y(e,t)}))}}()}],[[6,1,2]]]);
//# sourceMappingURL=main.dfd463c3.chunk.js.map